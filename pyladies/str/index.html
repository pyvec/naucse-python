<h1 id="zapis_retezcu">Zápis řetězců
<a href="#zapis_retezcu" class="header-link">#</a>
</h1>
<p>Teď se podíváme na zoubek řetězcům.
Už s nimi trochu umíš, tak začneme rekapitulací.</p>
<p>Textový <em>řetězec</em> (angl. <em>string</em>) je datový typ (druh <em>hodnot</em>),
který obsahuje text – třeba slovo nebo větu.</p>
<p>Když řetězec zadáváš do programu, musíš ho označit – uzavřít do
<em>uvozovek</em>, buď jednoduchých nebo dvojitých:</p>
<div class="highlight"><pre><span></span><span class="s1">&#39;tohle je řetězec&#39;</span>
<span class="s2">&quot;tohle taky&quot;</span>
</pre></div><p>Je velký rozdíl mezi <code>print('cislo')</code> – vypiš slovo „cislo“ –
a <code>print(cislo)</code> – vypiš hodnotu výrazu <code>cislo</code>.
Jednou je <code>cislo</code> pět konkrétních písmen; podruhé <em>instrukce</em> k použití
proměnné.
Počítač, na rozdíl od lidí, rozdíl mezi textem a instrukcí nepozná z kontextu,
a tak je uvozovky potřeba používat důsledně.</p>
<p><span class="figure"><a href="naucse:static?filename=quote-comic.svg"><img src="naucse:static?filename=quote-comic.svg" alt="(Ilustrační komiks. Člověk říká robotovi: &#34;Řekni Pavlovi, ať mi zavolá!&#34;. Robot odpoví: &#34;PAVLOVI AŤ MI ZAVOLÁ!&#34;)"></a></span></p>
<h2 id="znaky">Znaky
<a href="#znaky" class="header-link">#</a>
</h2>
<p>Texty sestávají z jednotlivých písmenek.
Řetězce víceméně taky, ale aby bylo jasné, co přesně tím <em>písmenkem</em>
myslíme, říkáme, že řetězce sestávají ze <em>znaků</em> (angl. <em>characters</em>).</p>
<p>Takový znak může být písmenko (např. <code>A</code>) nebo číslice (<code>3</code>),
ale i jiný symbol (<code>!</code>).</p>
<p>Každý řetězec má určitý počet znaků.
Kolik, to zjistíš pomocí funkce <code>len()</code>.
Třeba řetězec <code>Ahoj!</code> má znaků pět:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;Ahoj!&#39;</span><span class="p">)</span>
<span class="go">5</span>
</pre></div><p>Jeden ze zajímavějších znaků je <em>mezera</em>.
Je to taky znak. V řetězci se tedy chová stejně jako písmenko:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;K ní&#39;</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;3 + 2&#39;</span><span class="p">)</span>
<span class="go">5</span>
</pre></div><p>Mimochodem, řetězec může být i prázdný – pak má nula znaků:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="go">0</span>
</pre></div><h2 id="uvozovky">Uvozovky
<a href="#uvozovky" class="header-link">#</a>
</h2>
<p>K uvození řetězce můžeš použít jednoduché nebo dvojité rovné uvozovky.
Není mezi nimi rozdíl.
Podobně <code>4.0</code> a <code>4.000</code> jsou dva zápisy téhož čísla,
tak <code>'slovo'</code> a <code>&quot;slovo&quot;</code> pro Python označuje stejnou
hodnotu, skládající se ze stejných pěti písmen.</p>
<p>Použité uvozovky nejsou součástí hodnoty – python si „nepamatuje“, jakým
způsobem byl řetězec uvozen.
Když má nějaký řetězec vypsat s uvozovkami, jedny si k tomu vybere – většinou
ty jednoduché:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;python&quot;</span>
<span class="go">&#39;python&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;slovo&#39;</span>
<span class="go">&#39;slovo&#39;</span>
</pre></div><div class="admonition note"><p>Předchozí příklad je z interaktivního režimu Pythonu, který ukazuje hodnoty
výrazů „programátorsky“ – pokud možno tak, jak se zapisují v Pythonu.
Funkce <code>print()</code> vypisuje hodnoty „hezky“, „pro uživatele“ – v případě
řetězců tedy bez uvozovek.</p>
</div><h3 id="uvozovky_vuvozovkach">Uvozovky v uvozovkách
<a href="#uvozovky_vuvozovkach" class="header-link">#</a>
</h3>
<p>Proč si při zadávání textu můžeš vybrat mezi dvěma druhy uvozovek?</p>
<p>Občas se stane, že v rámci textu potřebuješ použít samotnou uvozovku (nebo
apostrof).
Pak musíš „kolem“ řetězce použít tu druhou:</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Zpívala si: &quot;Tralala!&quot;&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Byl to Goa&#39;uld, parazit z planety P3X-888&quot;</span><span class="p">)</span>
</pre></div><p>Když v rámci textu použiješ stejnou uvozovku jako „kolem něj“, tak bude Python
naprosto zmatený.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;Zpívala si: &quot;</span><span class="n">Tralala</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last)</span>
  File <span class="nb">&quot;&lt;&gt;&quot;</span>, line <span class="m">1</span>
<span class="w">    </span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;Zpívala si: &quot;</span><span class="n">Tralala</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="w">                      </span><span class="pm">^</span>
<span class="gr">SyntaxError</span>: <span class="n">invalid syntax</span>
</pre></div><p>Pokud používáš chytrý editor, doporučuju si zvyknout na to, jakou barvou
máš řetězce zvýrazněné.
Často to pomáhá odhalit chybky.</p>
<h2 id="sekvence_se_zpetnym_lomitkem">Sekvence se zpětným lomítkem
<a href="#sekvence_se_zpetnym_lomitkem" class="header-link">#</a>
</h2>
<p>Co dělat, když v řetězci potřebuješ <em>oba</em> druhy uvozovek,
jako ve větě <code>Vtom vnuk křik': &quot;Hleď!&quot;</code>?</p>
<p>Můžeš si pomoci tím, že spojíš dva řetězce:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vtom vnuk křik&#39;: &quot;</span> <span class="o">+</span> <span class="s1">&#39;&quot;Hleď!&quot;&#39;</span><span class="p">)</span>
<span class="go">Vtom vnuk křik&#39;: &quot;Hleď!&quot;</span>
</pre></div><p>Ale lepší způsob je použít speciální zápis se <em>zpětným lomítkem</em>.
Kdykoli se v řetězci objeví sekvence <code>\'</code> nebo <code>\&quot;</code>, Python dá do řetězce danou
uvozovku.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Vtom vnuk křik&#39;: </span><span class="se">\&quot;</span><span class="s2">Hleď!</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Vtom vnuk křik&#39;: &quot;Hleď!&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&quot;Jen ho nech,&quot; řek</span><span class="se">\&#39;</span><span class="s1"> děd. &quot;Kdo zná líp kraj?&quot;&#39;</span><span class="p">)</span>
<span class="go">&quot;Jen ho nech,&quot; řek&#39; děd. &quot;Kdo zná líp kraj?&quot;</span>
</pre></div><p>Ve výsledném řetězci pak ovšem žádné zpětné lomítko <em>není</em>.
Sekvence <code>\'</code> je jen způsob, jak v Pythonu zadat <code>'</code> – jediný znak.
Tomu je celkem důležité porozumět.
Zkus si, jestli zvládneš předpovědět výsledek těchto výrazů:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;.</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;.</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;.</span><span class="se">\&quot;</span><span class="s2">.&quot;</span>
</pre></div><div class="solution" id="solution-0">
    <h3>Řešení</h3>
    <div class="solution-cover">
        <a href="naucse:solution?solution=0"><span class="link-text">Ukázat řešení</span></a>
    </div>
    <div class="solution-body" aria-hidden="true">
        <div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;.</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">)</span>
<span></span><span class="go">.&quot;.</span>
<span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;.</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">)</span>
<span></span><span class="go">3</span>
<span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;.</span><span class="se">\&quot;</span><span class="s2">.&quot;</span>
<span></span><span class="go">&#39;.&quot;.&#39;</span>
<span></span></pre></div>
    </div>
</div>

<p>Znaků, které se zadávají sekvencí se zpětným lomítkem, je více.
Jedna ze zajímavějších je <code>\t</code>, představující tabulátor – jediný znak, který
se, když ho vypíšeš, „roztáhne“ na víc mezer.</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a</span><span class="se">\t</span><span class="s2">b&quot;</span><span class="p">)</span>   <span class="c1"># Výpis &quot;pro lidi&quot;</span>
<span class="go">a       b</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;a</span><span class="se">\t</span><span class="s2">b&quot;</span>          <span class="c1"># Výpis &quot;pro programátory&quot;</span>
<span class="go">&#39;a\tb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;a</span><span class="se">\t</span><span class="s2">b&quot;</span><span class="p">)</span>     <span class="c1"># Počet znaků v řetězci</span>
<span class="go">3</span>
</pre></div><p>Se zpětným lomítkem se dá zadat jakýkoli znak – včetně <em>emoji</em> – podle jména
(<code>\N{…}</code>) nebo identifikačního čísla (<code>\x..</code>, <code>\u....</code>, <code>\U........</code>)
standardu Unicode.
Stačí přesné jméno nebo číslo znát (nebo třeba dohledat na internetu).
V následujících řetězcích jsou takové znaky pro přehlednost mezi dvěma
pomlčkami <code>-</code>. Délka každého řetězce je tedy celkem 3:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\N{GREEK CAPITAL LETTER DELTA}</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-Δ-</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\N{SECTION SIGN}</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-§-</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\N{GRINNING CAT FACE WITH SMILING EYES}</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-😸-</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\x60</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-`-</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\u30C4</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-ツ-</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\U0001F0BD</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-🂽-</span>
</pre></div><h3 id="zpetne_lomitko">Zpětné lomítko
<a href="#zpetne_lomitko" class="header-link">#</a>
</h3>
<p>Zpětné lomítko tedy začíná speciální sekvenci (známou pod anglickým
termínem <em>escape sequence</em>), kterou zadáš <em>jediný znak</em>.</p>
<p>Tahle vychytávka má jeden, někdy nepříjemný, důsledek: pokud chceš mít jako
součást řetězce zpětné lomítko (třeba ve jménech souborů na Windows),
nemůžeš použít přímo <code>\</code>.
Musíš použít speciální sekvenci <code>\\</code> – tedy lomítko zdvojit:</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">PyLadies</span><span class="se">\\</span><span class="s1">Nový adresář&#39;</span><span class="p">)</span>
</pre></div><p>Podobně jako <code>\&quot;</code> je zápis pro uvozovku a <code>\'</code> pro apostrof, sekvence <code>\\</code>
je zápis pro jedno zpětné lomítko.</p>
<h3 id="novy_radek">Nový řádek
<a href="#novy_radek" class="header-link">#</a>
</h3>
<p>Někdy potřebuješ řetězce, které obsahují více řádků.
Pythonní řetězce ale můžeš normálně napsat jen na <em>jeden</em> řádek.
(Python se tak snaží ulehčit hledání chyby, kdybys koncovou uvozovku
zapomněl/a.)</p>
<p>Můžeš ale do řetězce znak pro nový řádek vložit pomocí sekvence <code>\n</code>:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Haló haló!</span><span class="se">\n</span><span class="s1">Co se stalo?&#39;</span><span class="p">)</span>
<span class="go">Haló haló!</span>
<span class="go">Co se stalo?</span>
</pre></div><p>Ono <code>\n</code> do řetězce vloží znak nového řádku.
Ten při výpisu ukončí stávající řádek a přejde na nový – ale jinak se chová
jako jakýkoli jiný znak:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\n</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">-</span>
<span class="go">-</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39;-</span><span class="se">\n</span><span class="s1">-&#39;</span><span class="p">)</span>
<span class="go">3</span>
</pre></div><h2 id="trojite_uvozovky">Trojité uvozovky
<a href="#trojite_uvozovky" class="header-link">#</a>
</h2>
<p>Kromě <code>\n</code> je i druhý způsob, jak zadat řetězec se znakem nového řádku:
ohraničit ho <em>třemi</em> uvozovkami (jednoduchými nebo dvojitými)
na každé straně.
Dají se tak zadávat delší víceřádkové řetězce:</p>
<div class="highlight"><pre><span></span><span class="n">basen</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;Haló haló!</span>
<span class="s1">Co se stalo?</span>
<span class="s1">Prase kozu potrkalo!&#39;&#39;&#39;</span>
</pre></div><p>Pozor na to, že pokud je tenhle řetězec
v odsazeném kódu, každý jeho řádek bude začínat
několika mezerami.
(V dokumentačních řetězcích tohle nevadí, tam se s odsazením počítá.)</p>
<div class="highlight"><pre><span></span><span class="n">cislo</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">if</span> <span class="n">cislo</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Výsledek porovnání:</span>

<span class="s2">        Číslo je kladné.</span>
<span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</pre></div><h2 id="cviceni">Cvičení
<a href="#cviceni" class="header-link">#</a>
</h2>
<p>Jaká je délka těchto řetězců?</p>
<p>Výsledek zjistíš snadno, zkus se ale zamyslet a Python použít jen pro ověření.</p>
<div class="highlight"><pre><code>print(len('ahoj'))
print(len(&quot;&quot;&quot;Ahoj!&quot;&quot;&quot;))
print(len('a b'))
print(len( ' a b ' ))
print(len('\N{SNOWMAN}ové'))
print(len('a\nb'))
print(len('a\tb'))
print(len('&quot;\'&quot;'))


print(len(&quot;&quot;&quot;
abc&quot;&quot;&quot;))


if True:
    print(len(&quot;&quot;&quot;a
    b&quot;&quot;&quot;))


print(len('C:\new_dir'))

print(len(f'{print}'))
</code></pre></div>