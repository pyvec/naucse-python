<h1 id="moduly">Moduly
<a href="#moduly" class="header-link">#</a>
</h1>
<p>Modul je v Pythonu něco, z čeho můžeš importovat.
Třeba z modulu <code>math</code> můžeš importovat funkci <code>sqrt</code>:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</pre></div><p>Kromě importování jednotlivých proměnných z modulu
můžeš importovat i celý modul najednou.
K tomu, co modul nabízí, se pak dostaneš pomocí
tečky – podobně jako se pomocí <code>'Ahoj'.upper</code> dostaneš k metodě, kterou nabízí
řetězec.</p>
<p>Například:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>

<span class="n">turtle</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="n">turtle</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">turtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">turtle</span><span class="o">.</span><span class="n">exitonclick</span><span class="p">()</span>
</pre></div><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span>
</pre></div><div class="admonition note"><p class="admonition-title">Hvězdičky nechceme</p>
<p>Možná jsi v dokumentaci nebo na jiném kurzu viděl/a příkaz import
s hvězdičkou (<code>*</code>).
Pokud ano, v rámci tohoto kurzu na hvězdičku prosím
zapomeň a importuj místo toho radši celý modul.
Až začneš psát větší programy, zjednoduší ti
to práci.</p>
</div><h2 id="vlastni_moduly">Vlastní moduly
<a href="#vlastni_moduly" class="header-link">#</a>
</h2>
<p>A teď to hlavní!
Můžeš vytvořit vlastní importovatelný modul
a to jen tak, že uděláš pythonní soubor.
Funkce, které v něm nadefinuješ, a globální proměnné,
které v něm nastavíš, pak budou k dispozici tam, kde modul naimportuješ.</p>
<p>Zkus si to!
Vytvoř soubor <code>louka.py</code> a do něj napiš:</p>
<div class="highlight"><pre><span></span><span class="n">barva_travy</span> <span class="o">=</span> <span class="s1">&#39;zelená&#39;</span>
<span class="n">pocet_kotatek</span> <span class="o">=</span> <span class="mi">28</span>

<span class="k">def</span> <span class="nf">popis_stav</span><span class="p">():</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Tráva je </span><span class="si">{</span><span class="n">barva_travy</span><span class="si">}</span><span class="s1">. Prohání se po ní </span><span class="si">{</span><span class="n">pocet_kotatek</span><span class="si">}</span><span class="s1"> koťátek&#39;</span>
</pre></div><p>A pak do dalšího souboru, třeba <code>vypis.py</code>, napiš:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">louka</span>

<span class="nb">print</span><span class="p">(</span><span class="n">louka</span><span class="o">.</span><span class="n">popis_stav</span><span class="p">())</span>
</pre></div><p>A pak spusť <code>vypis.py</code>:</p>
<div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>vypis.py
</pre></div><p>Příkaz <code>import</code> hledá soubory (mimo jiné) v adresáři,
ve kterém je „hlavní modul” programu – tedy soubor
který spouštíš (tady <code>vypis.py</code>).
Oba soubory by proto měly být ve stejném adresáři.</p>
<h2 id="vedlejsi_efekty">Vedlejší efekty
<a href="#vedlejsi_efekty" class="header-link">#</a>
</h2>
<p>Co přesně dělá příkaz <code>import louka</code>?</p>
<p>Python najde příslušný soubor (<code>louka.py</code>) a provede v něm všechny příkazy,
odshora dolů, jako v normálním Pythonním programu.
Všechny globální proměnné (včetně nadefinovaných funkcí) pak dá k dispozici
kódu, který importoval.</p>
<p>Když pak stejný modul importuješ podruhé, už se neprovádí všechno znovu.
Druhý import jen zpřístupní stejnou sadu proměnných/funkcí jako ten první.</p>
<p>Zkus si to – na konci <code>louka.py</code> dopiš:</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Louka je zelená!&#39;</span><span class="p">)</span>
</pre></div><p>Spusť <code>python</code> (máš-li ho už spuštěný, ukonči a spusť znovu)
a zadej v něm:</p>
<div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;První import:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">louka</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Druhý import:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">louka</span>
</pre></div><p>Výpis se objeví jen poprvé.
Co víc, když teď soubor <code>louka.py</code> změníš, změny se do naimportovaného modulu
nepromítnou.
Aby se promítly, musíš Python zavřít a spustit znovu.
(I proto je dobré pouštět programy ze souborů – při každém spuštění se
znovu načte aktuální verze modulů.)</p>
<p>Ale zpátky k volání <code>print</code>.
Přijde ti trochu divné, že příkaz <code>import louka</code> něco vypíše na obrazovku?</p>
<p>Když takhle modul při importu „dělá“ něco víc než jen nastavení proměnných
a funkcí, říká se, že má <em>vedlejší efekt</em> (angl. <em>side effect</em>).
Vedlejší efekt může být vypsání něčeho na obrazovku nebo do souboru,
vykreslení okýnka na obrazovku, otázka na uživatele pomocí <code>input</code>, atp.</p>
<p>V modulech připravených na importování se vedlejším efektům vyhýbej:
úloha takového modulu je dát k dispozici <em>funkce</em>, které něco dělají,
ne to udělat přímo.
Všimni si například, že <code>import turtle</code> neukáže okýnko – to se objeví až po
zavolání <code>turtle.forward()</code>.
Importem si programátor připravuje nástroje; teprve zavoláním funkce je používá.</p>
<p>Příkaz <code>print</code> proto radši z modulu zase smaž.</p>
<h2 id="adresar_pro_kazdy_projekt">Adresář pro každý projekt
<a href="#adresar_pro_kazdy_projekt" class="header-link">#</a>
</h2>
<p>Od teď budeš občas psát větší projekty,
které budou obsahovat více souvisejících souborů.
Pro každý takový projekt si udělej zvláštní adresář.
Lépe se pak vyznáš v tom, ke kterému projektu který soubor patří.</p>